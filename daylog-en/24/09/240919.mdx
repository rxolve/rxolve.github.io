---
title: "PostgreSQL Supports JSONB, So Why Use MongoDB?"
date: "240919"
tags: ["RDS"]
---

After using only MySQL, I’ve been very happy using PostgreSQL at my current company.

If you've experienced the stability and flexibility of a relational database, you may have wondered, "PostgreSQL can handle JSON data well with JSONB, so why would anyone choose MongoDB?"

Especially in projects that deal with complex data, this question becomes even more relevant.

Today, let's take a simple look at the strengths and weaknesses of both PostgreSQL and MongoDB and explore why MongoDB might be a better choice in certain situations.

#### Is PostgreSQL’s JSONB really enough?

First, let’s talk about managing complex documents. As the structure of the data becomes more nested, the complexity of queries to handle JSON also increases.

This can lead to performance issues when combined with joins and other complex operations.

Also, PostgreSQL is more suited for **vertical scaling**. While there are recent options for horizontal scaling, PostgreSQL isn’t as optimized for sharding as MongoDB.

Similarly, PostgreSQL is still deeply rooted in a **relational model** of tables and columns. While JSONB allows for handling unstructured data, it wasn’t designed as the primary data model like MongoDB.

These limitations make MongoDB a more attractive option in environments that rely heavily on unstructured data or require significant horizontal scaling.

#### When MongoDB is the better choice

When there are frequent changes to the data structure, MongoDB’s **schemaless** design becomes incredibly useful.

Even if the data model changes often, MongoDB allows you to store new data structures without the need to modify the schema.

Additionally, MongoDB was built with **horizontal scaling** in mind. Its **sharding** feature allows data to be spread across multiple servers, making it easier to scale without performance loss as data grows.

This makes MongoDB especially useful for startups or enterprise systems dealing with large volumes of data.

It also handles nested document structures naturally.

For example, you can store complex, hierarchical data in a single collection and query or update this data easily. This is particularly useful for services that handle social media, IoT, log data, or other varied forms of data.

#### MongoDB vs PostgreSQL

I once spoke with the CTO of a startup handling large-scale data, and they told me that it was much easier to run their service on MongoDB. Why?

In startups, **development speed** is key. At first, the service might only store simple user information, but later it could need to handle complex payment details or order histories.

In this situation, the data model can change frequently.

Since MongoDB doesn’t require predefined schemas, it can handle these changes much more flexibly.

Startups also aim for **fast growth**, which means the amount of data can increase rapidly. MongoDB’s sharding feature allows it to handle this growth more easily.

But when should you choose PostgreSQL?

PostgreSQL is still a great option for handling both relational and unstructured data thanks to its JSONB support.

For use cases involving structured data like users, products, and orders, PostgreSQL remains a top choice. It offers reliable management of normalized data while also providing the ability to handle unstructured data when necessary.

In systems where **data integrity** and **consistency** are crucial—like in finance, logistics, or ERP systems—PostgreSQL’s ACID transactions are essential.

In summary, MongoDB tends to be a better choice for startups, while PostgreSQL might be more suited for larger enterprises.

#### In conclusion

Ultimately, the choice of database depends on your service’s requirements and data model.

Here are some general guidelines for choosing between them:

- **When to choose PostgreSQL**:

  - When you need to handle both relational and unstructured data.
  - When data integrity is crucial for your application.
  - When complex SQL queries and joins are necessary.
  - When the data scale is relatively small, and vertical scaling is enough.

- **When to choose MongoDB**:
  - When your data schema is flexible and changes often.
  - When you need to distribute large volumes of data and prioritize horizontal scaling.
  - When you need to handle hierarchical and nested data naturally.
  - When your startup environment requires fast development with unstructured data.
