---
title: "2-3 Tree: Insertion"
date: "240908"
tags: ["Algorithm"]
---

Now that we've learned about binary trees, let's look at 2-3 trees, which can have more values and child nodes.

### Features of a 2-3 Tree

- All leaf nodes are at the same depth.
- A parent node can have 2 or 3 children.
- A 2-node has 1 value and 2 children.
- A 3-node has 2 values and 3 children.

### Inserting into a 2-3 Tree

Let's go through the steps to insert a new value into a 2-3 tree.

1. **Finding the Insertion Point**

   - Start at the root and search through the tree until you find the appropriate leaf node.
   - At each node, compare the values and move to the left, center, or right child.

2. **Inserting the Key into the Leaf Node**

   - Insert the new value into the found leaf node.
   - Make sure the values in the node remain sorted.

3. **Splitting the Node**

   - If the node ends up with 3 values after the insertion, it needs to be split.
   - Pick the middle value and move it up to the parent node.
   - The remaining two values will each form new nodes.

4. **Handling the Parent Node**

   - Insert the middle value into the parent node.
   - If the parent is also full, repeat step 3 for the parent node.

5. **Handling the Root Node**

   - If the root node needs to be split, create a new root node.
   - This may increase the height of the tree.

### Example

Let's see how to insert the number 10 into the following 2-3 tree:

```
     [5, 15]
    /   |   \
 [2,3] [7,9] [17,20]
```

1. Find the position to insert 10: into the [7,9] node.
2. Insert 10 into the [7,9] node: [7,9,10].
3. The node is full, so we split it:
   - Move 9 up to the parent.
   - Create two new nodes: [7] and [10].
4. Insert 9 into the parent [5,15]: [5,9,15].
5. The root node is full, so split it again:
   - Create 9 as the new root.
   - Create two new nodes: [5] and [15].

The final result is:

```
         [9]
        /   \
     [5]     [15]
    /   \    /   \
 [2,3] [7] [10] [17,20]
```

### Diagram

<Mermaid
  chart={`
graph TD
A[Step 1: Find the Insertion Point] --> B[Step 2: Insert Key into Node]
B --> C{Is the node full?}
C -->|No| D[Insertion Complete]
C -->|Yes| E[Step 3: Split the Node]
E --> F[Move middle key to parent]
F --> G{Is it the root node?}
G -->|No| H[Insert key into parent node]
G -->|Yes| I[Create new root node]
H --> J[Recursively check parent]
J --> C
I --> D
`}
/>

### Conclusion

Understanding 2-3 trees will help you understand more complex balanced tree structures like red-black trees and B-trees.

Next time, weâ€™ll discuss deletion in a 2-3 tree.
