---
title: "롤백 넷코드"
date: "250221"
tags: ["Concept"]
---

롤백 넷코드는 온라인 대전 격투게임에서 느낄 수 있는 입력 지연 문제를 혁신적으로 해결하기 위한 기술입니다.

오프라인 환경에서는 모든 입력이 거의 즉각적으로 반영되지만, 온라인에서는 네트워크 지연 때문에 플레이어 간의 입력 타이밍이 달라질 수밖에 없습니다.

#### 딜레이 넷코드 vs 롤백 넷코드

딜레이 넷코드는 모든 플레이어의 입력에 동일한 인위적 지연을 주어 서로의 동기화를 맞추는 방식입니다.

이 방식은 구현이 간단하지만, 결국 모든 사용자에게 입력 지연이 발생하게 되어 게임의 반응성을 떨어뜨립니다.

반면, 롤백 넷코드는 플레이어의 입력을 가능한 한 즉시 화면에 반영합니다.

그리고 상대방의 입력이 도착하면, 이전 상태와의 차이가 발생한 경우 '롤백'을 통해 게임 상태를 재계산하여 정정합니다.

예측이 정확할 경우 롤백 현상은 거의 감지되지 않으며, 네트워크 지연의 영향을 최소화할 수 있습니다.

#### 롤백 넷코드의 작동 원리

1. 입력 예측
   각 클라이언트는 상대방의 입력이 아직 도착하지 않은 상태에서도, 과거의 패턴이나 기본 동작을 바탕으로 입력을 '예측'해 즉시 반영합니다.

2. 실시간 동기화
   실제 입력 데이터가 도착하면, 예측과 실제 값이 일치하는지 확인합니다.
   만약 예측과 다르다면, 게임 상태를 그 시점으로 '롤백'한 후, 올바른 입력을 반영하여 다시 진행합니다.

3. 최소화된 체감 지연
   네트워크 환경이 양호하다면 예측이 거의 정확하여 롤백이 빈번하게 발생하지 않으므로, 사용자는 거의 오프라인과 유사한 반응성을 체감할 수 있습니다.
