---
title: "아키텍처 결정 기록(ADR)"
date: "250520"
tags: ["Concept"]
---

아키텍처 결정 기록(Architecture Decision Records, ADR)은 시스템 설계 과정에서 내린 중요한 결정과 그 배경, 고려사항, 결과를 일관된 포맷으로 문서화하는 기법입니다.  
팀의 기술적 선택 이유와 트레이드오프를 빠르게 이해할 수 있도록 돕고, 프로젝트가 커지거나 팀원이 바뀌어도 아키텍처 지식을 온전히 전승할 수 있게 해줍니다.  
ADR은 단순한 메모가 아니라 “어떤 문제(문맥)가 있어서 → 어떤 대안을 검토했고 → 결국 어떤 결정을 내렸으며 → 그로 인해 어떤 영향이 발생했는지”를 명확히 보여주는 일종의 설계 일지입니다.

## ADR이란 무엇인가

#### 정의

- ADR은 “Architecturally Significant Decisions(아키텍처에 중요한 결정)”을 기록하기 위한 작은 마크다운 문서입니다.
- 각 문서는 제목, 상태, 문맥(Context), 결정(Decision), 결과(Consequences) 다섯 섹션으로 구성됩니다.
- 형식은 평범한 텍스트 파일(.md)로 관리하고, 프로젝트 레포지토리의 `doc/adr/` 같은 디렉터리에 일련번호 순으로 보관합니다.

#### 비유

- 여행 일지: 여행 중 찍은 사진 한 장이 그날의 분위기를 보여주듯, ADR 한 편이 그 순간의 설계 고민과 선택을 생생히 기록합니다.
- 의학 환자 차트: 환자의 진단·치료·경과를 차트로 정리하듯, ADR은 시스템 결정의 원인·치료(대안)·치료 결과를 구조화합니다.

## 왜 ADR을 사용해야 할까?

#### 지식 전승과 협업

- 프로젝트 초기 설계자는 ‘왜 이런 프레임워크를 썼는지’, ‘왜 이 S3 스토리지 방안을 선택했는지’를 기억하지만, 시간이 흐르면 잊힙니다.
- 후임 개발자는 코드를 보며 추측으로 의문을 품지만, ADR이 있으면 “00년 00월 00일, 비용과 유지보수 이슈로 해당 방안을 선택했다”를 바로 확인할 수 있습니다.

#### 의사결정의 투명성

- ADR은 “회의록”보다 정제된 문서로, 불필요한 잡음을 제거하고 핵심만 남겨둡니다.
- 코드 리뷰처럼, ADR에도 코드와 동일하게 PR을 열어 팀원 간 검토와 합의를 거칩니다.

## ADR의 구조와 예시

#### 기본 템플릿

```markdown
# ADR 001: [제목]

## Status

(예: Proposed, Accepted, Deprecated)

## Context

- 이 결정을 내리게 된 배경과 요구사항
- 고려한 조건 및 제한 사항

## Decision

- 최종적으로 선택한 방안
- 중요 파라미터, 버전, 설정 등 세부 내용

## Consequences

- 이 결정의 긍정적/부정적 영향
- 이후에도 해결해야 할 과제
```

#### Monorepo vs. Multi-repo

```markdown
# ADR 002: Monorepo vs. Multi-repo

## Status

Accepted

## Context

- 팀원 수 5명, 서비스 3개
- 코드 공유와 라이브러리 재사용 필요

## Decision

- Monorepo 방식을 선택
  - 터보레포(TurboRepo) 사용
  - CI 파이프라인 공유

## Consequences

- 코드 재사용이 쉬워짐
- PR 단위 브랜치 관리 간소화
- 빌드 시간이 초기에는 길어짐 (→ 캐싱 도입 필요)
```

## 적용 팁

1. 작게, 자주 기록하기  
   작은 결정이라도 ‘아키텍처에 의미 있는 변화’라면 ADR로 기록하세요.
2. 번호 붙이기  
   `0001.md`, `0002.md`처럼 연속 번호를 사용하면 검색·참조가 편리합니다.
3. 상태(Status) 관리  
   제안(Proposed) → 승인(Accepted) → 폐기(Deprecated) 같은 상태 변경을 기록해 두면, 나중에 다시 검토할 때 유용합니다.
4. PR과 연동  
   코드 변경 시 ADR이 필요한 경우, ‘관련 ADR 번호’를 커밋 메시지나 PR 설명에 반드시 포함하세요.
5. 주기적 리뷰  
   스프린트 회고나 분기 회의에서 ADR 로그를 리뷰하며, 더 이상 유효하지 않은 ADR은 ‘Deprecated’로 표시해 두세요.

## 마치며

ADR은 처음엔 귀찮게 느껴질 수 있지만, 장기 프로젝트나 분산 팀 환경에서는 없어서는 안 될 ‘아키텍처 백업’이 됩니다.  
여행 일지처럼, “그때 왜 이렇게 생각했더라?”를 언제든 꺼내 볼 수 있는 최고의 도구이므로, 오늘부터라도 작은 결정 하나를 기록해 보세요.
