---
title: "AWS Bedrock 비용 최적화 전략"
date: "250522"
tags: ["AWS"]
---

AWS Bedrock에서 대규모 학습 데이터를 효율적으로 운영하기 위해서는 스토리지·처리·카탈로그·거버넌스 각 영역에서 비용 최적화 전략을 종합적으로 적용하는 것이 핵심입니다.  
먼저 원천 데이터는 Amazon S3의 다양한 스토리지 클래스(Standard/Intelligent‐Tiering/Glacier)를 활용해 액세스 패턴에 맞춰 자동 티어링을 설정하고, 수명 주기 정책으로 사용 빈도가 낮아진 데이터를 저비용 계층으로 전환합니다.  
이후 데이터는 Parquet 같은 컬럼너 포맷으로 변환하고, 적절한 파티셔닝을 통해 I/O 비용을 줄이며, Glue 크롤러 실행 횟수를 최소화하고 AWS Lake Formation으로 중앙 관리함으로써 크롤러·ETL·권한 관리 비용을 절감합니다.  
또한, 데이터 수집·전처리는 서버리스(Even​tBridge → Lambda → Step Functions) 기반으로 구성해 사용량에 비례한 과금 구조를 활용하고, 분석 단계에서는 Amazon Athena나 Redshift Spectrum의 서버리스 쿼리를 사용해 별도 인프라 고정을 피합니다.  
마지막으로 비용 할당 태그, CloudWatch 지표를 통해 서비스별·팀별 비용을 모니터링하고, 예산 초과를 방지하는 거버넌스 체계를 마련하면 총소유비용(TCO)을 효과적으로 낮출 수 있습니다.

## AWS Bedrock과 데이터레이크 개요

AWS Bedrock은 관리형 생성형 AI(FM) 서비스로, 대규모 학습·추론을 위해 대용량 데이터 레이크가 필수적입니다.  
데이터 레이크는 원천 데이터를 수집·저장·카탈로그·분석 가능한 형태로 제공하여, Bedrock 커스텀 모델 학습 및 RAG(검색-생성) 워크로드를 지원합니다.

## 데이터레이크 핵심 구성요소 및 비용 구조

#### 스토리지: Amazon S3

- 스토리지 클래스: Standard, Intelligent-Tiering(액세스 빈도 자동 감지), Glacier Deep Archive(장기 보관) 등을 활용하여 저장 비용을 최적화합니다.
- 수명 주기 정책: 객체 수명 주기를 설정해 일정 기간 이후 자동 전환 및 삭제를 수행함으로써 지속적 비용 절감을 이끌어냅니다.

#### 데이터 형식 및 파티셔닝

- 컬럼너 포맷(Parquet, ORC): 행 기반보다 I/O 효율이 높아 쿼리 비용을 절감합니다.
- 적절한 파일 크기 및 파티셔닝: 너무 작은 파일은 메타데이터 오버헤드, 너무 큰 파일은 처리 지연을 유발하므로, 대략 128MB~1GB 크기를 권장하며, 날짜·카테고리별 파티션을 활용합니다.

#### 데이터 카탈로그 및 거버넌스

- AWS Glue Data Catalog: 메타데이터 저장소로 활용하되, 크롤러 호출 횟수를 최소화하고 스케줄을 분산하여 비용을 통제합니다.
- AWS Lake Formation: 중앙 권한 관리 및 세분화된 접근 제어를 통해 보안·거버넌스 비용을 낮춥니다(추가 과금 없이 기본 리소스 비용만 부과).

## 서버리스 기반 데이터 수집·전처리

- EventBridge → Lambda → Step Functions 아키텍처: 이벤트 드리븐 처리로 필요 시에만 과금되며, 대량 배치 작업도 비용 효율적으로 수행할 수 있습니다.
- Kinesis Data Firehose: 실시간 스트리밍을 수집해 S3로 바로 로드하며, 중간 인프라 관리 부담을 줄입니다.

## 서버리스 쿼리 엔진 활용

- Amazon Athena: 사용한 만큼 쿼리 데이터 바이트 수 기준 과금되어, 대규모 데이터를 탐색적 분석할 때 비용 효율적입니다.
- Redshift Spectrum: S3 데이터에 직접 쿼리 가능, Redshift 클러스터 유지비용 없이 복잡한 분석을 처리합니다.

## 지표 모니터링 및 비용 거버넌스

- 비용 할당 태그: `dept:ai`, `team:ml`, `env:prod` 등 태그를 통해 Bedrock 관련 S3, Glue, Lambda 사용량을 팀·프로젝트별로 추적합니다.
- CloudWatch 지표: S3 요청 수, Glue 크롤러 실행 시간, Lambda 실행 횟수 등을 모니터링해 비정상 사용 패턴을 조기에 감지합니다.
