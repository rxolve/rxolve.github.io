---
title: "Dapr"
date: "250321"
tags: ["Tool"]
---

## Dapr의 기본 개념

Dapr은 "분산 애플리케이션 런타임"으로, 마이크로서비스 애플리케이션에서 흔히 요구되는 기능들을 추상화한 빌딩 블록을 제공합니다.  
즉, 개발자가 서비스 간 호출, 상태 관리, 메시지 기반 통신, 비밀 관리 등과 같은 인프라 관련 코드를 직접 작성하지 않아도, Dapr의 API를 통해 이러한 기능을 손쉽게 활용할 수 있습니다.

## Dapr의 핵심 기능

#### 서비스 간 호출 (Service Invocation)

Dapr은 HTTP 및 gRPC 프로토콜을 이용해 서비스 간의 통신을 간소화합니다.  
이를 통해 각 서비스는 네트워크 세부 사항을 신경쓰지 않고, 단순히 서비스 이름과 메서드만으로 호출이 가능해집니다.

#### 상태 관리 (State Management)

애플리케이션에서 상태를 저장하고 조회하는 기능을 제공하는데, Redis, PostgreSQL, Cosmos DB 등 다양한 백엔드 스토어와 연동이 가능합니다.  
이를 통해 상태 저장소에 대한 추상화를 이루어 애플리케이션의 이식성을 높입니다.

#### Pub/Sub 메시징

이벤트 기반 아키텍처를 쉽게 구현할 수 있도록 Pub/Sub 모델을 지원합니다.  
Kafka, RabbitMQ 등 다양한 메시지 브로커와의 연동이 가능하여, 애플리케이션 간의 이벤트 전달 및 비동기 처리가 용이합니다.

#### 비밀 관리 (Secrets Management)

Azure Key Vault, HashiCorp Vault 등과 통합하여 애플리케이션에서 필요한 비밀 정보를 안전하게 관리할 수 있도록 도와줍니다.

#### 바인딩 (Bindings)

외부 시스템(클라우드 서비스, 파일 스토리지, 데이터베이스 등)과의 입출력 연동을 쉽게 할 수 있도록 바인딩 기능을 제공합니다.

#### 액터 모델 (Actors)

상태 관리와 병행성 제어를 필요로 하는 시나리오에서 액터 모델을 지원하여, 개별 액터 객체의 상태와 생명주기를 관리할 수 있습니다.

이 외에도 Dapr은 분산 추적, 관찰 가능성, 보안(예: mTLS를 통한 안전한 통신) 등 다양한 기능을 내장하고 있어, 마이크로서비스 운영에 필요한 대부분의 인프라적 고민을 덜어줍니다.

## Dapr의 아키텍처와 사용 방식

#### 사이드카 패턴

Dapr은 사이드카(sidecar) 형태로 애플리케이션과 함께 실행됩니다.  
즉, 각 애플리케이션 인스턴스 옆에 Dapr 런타임이 함께 배치되며, 이 사이드카가 위에서 언급한 기능들을 제공합니다.  
이를 통해 애플리케이션은 Dapr의 API만 호출하면 되고, 별도의 라이브러리나 SDK 없이도 다양한 언어와 프레임워크에서 Dapr을 활용할 수 있게 됩니다.

#### 환경 독립성

Dapr은 플랫폼 독립적으로 설계되어 로컬 개발, Kubernetes 클러스터, VM, 또는 클라우드와 엣지 환경 등 다양한 환경에서 동일한 방식으로 사용할 수 있습니다.  
이식성이 뛰어나기 때문에, 한 번의 구현으로 여러 환경에서 운영이 가능합니다.

## Dapr을 선택해야 하는 이유

- 개발 생산성 향상: 인프라 관련 코드의 중복 작성을 줄이고, 애플리케이션 로직에 집중할 수 있게 해줍니다.
- 이식성 및 유연성: 다양한 언어와 플랫폼을 지원하여, 개발팀이 선호하는 기술 스택을 그대로 유지할 수 있습니다.
- 운영 복잡성 감소: 분산 시스템에서 발생할 수 있는 서비스 검색, 재시도, 분산 추적 등 여러 복잡한 기능들을 Dapr이 대신 처리해줍니다.
- 보안 강화: 기본적으로 mTLS 암호화와 같은 보안 기능을 제공하여, 서비스 간 통신을 안전하게 보호합니다.

## 마치며

Dapr은 현대의 마이크로서비스 아키텍처에서 필수적인 인프라 기능들을 모듈화하여 제공함으로써, 개발자와 운영자 모두에게 큰 이점을 제공합니다.  
복잡한 분산 시스템을 단순화하고, 다양한 환경에 걸쳐 일관된 운영 경험을 제공하는 Dapr은 앞으로도 클라우드 네이티브 애플리케이션 개발에서 중요한 역할을 할 것으로 기대됩니다.
