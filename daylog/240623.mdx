---
title: "Tidy First? 7. 선언과 초기화를 함께 옮기기"
date: "240623"
tags: ["TidyFirst"]
---

> 정리하며 책의 문장을 요약해서 옮깁니다.

- 변수의 선언과 초기화는 종종 서로 떨어져 있기도 합니다.
  - 보통 변수의 이름에서 힌트를 얻지만, 변수 초기화는 이름이 주는 의미를 더 강화합니다.
  - 따라서 선언과 초기화가 떨어져 있으면 읽어내기가 더 어려워 집니다.
- 다음과 같은 코드가 있습니다.

```
fn()
  int a
  ...a를 사용하지 않는 코드
  a=...
  int b
  ...a를 사용할 수 있으나 b를 사용하지 않는 코드
  b=...a
  ...b를 사용하는 코드
```

- 초기화를 변수 선언 근처로 이동하여, 이 문제를 해결합니다.

```
fn()
  int a=...
  ...a를 사용하지 않는 코드
  ...a를 사용하고 b를 사용하지 않는 코드
  int b=...a...
  ...변수 b를 사용하는 코드
```

- 놀이를 하듯 순서를 옮겨 보세요.

  - 여기서 미스터리 작가가 되어서, 작성한 코드를 읽는 사람의 경험을 상상해 보세요.
  - 누가 이 코드를 작성했는지 알 수 있도록 단서를 남겨 두세요.

- 결국 실수를 하게 될 것입니다.

  - 구조만 개선하려고 하다 실수로 동작까지 변경하게 될 수도 있습니다.
  - 그래도 문제는 없습니다. 올바른 버전의 코드로 되돌리면 그만입니다.

- 작은 방식으로 작업하세요.
  - 그 방식이 바로 코드 정리 방법입니다.
  - 커다란 설계 변경은 어렵고 무섭죠? 더 작은 단계로 진행하세요.
  - 그래도 무섭다면 더 작게 하세요.
  - **두려움을 느끼지 않는 수준의 바로 그 단계가 가장 좋은 수준입니다.**
