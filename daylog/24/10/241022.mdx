---
title: "코드리뷰 안티패턴"
date: "241022"
tags: ["Article"]
---

> [Code review antipatterns](https://www.chiark.greenend.org.uk/~sgtatham/quasiblog/code-review-antipatterns/)

코드 리뷰는 팀의 코드 품질을 높이고, 개발자들이 서로 배우는 기회가 됩니다.

그런데 리뷰어가 의도적이든 실수로든 비효율적인 방식으로 접근하면, 코드 리뷰가 오히려 개발자의 시간을 낭비하고 의욕을 꺾을 수 있습니다.

위 포스팅에서 언급한 재미있는 코드 리뷰 안티패턴들을 소개합니다.

#### 천 번의 왕복 (The Death of a Thousand Round Trips)

작은 문제 하나 발견되면 바로 피드백을 주고 멈추는 거죠. 그러면 개발자는 그 문제를 고쳐서 다시 제출합니다.

그때 또 다른 사소한 문제를 지적하며 다시 멈추고요. 이렇게 반복하다 보면 개발자는 매번 리뷰를 기다리며 지칩니다.

> 한 번에 충분히 코드를 읽고, 가능한 한 많은 피드백을 처음에 모아서 주는 것이 좋습니다.
>
> 타임존 차이가 큰 팀일수록 의도치 않은 지연이 생길 수 있으니, 적시에 피드백을 주는 것이 중요합니다.

#### 몸값 요구 (The Ransom Note)

특정 패치가 개발자에게 아주 중요해 보이는 상황입니다. 이때 리뷰어가 이를 이용해 자신이 원하는 추가 작업을 요구하는 겁니다.

원래 필요하지 않은 작업이라도 "이거 추가해야 승인할 수 있어"라는 식으로 조건을 거는 거죠.

> 리뷰의 목표는 해당 패치가 코드베이스에 적절한지 확인하는 것입니다.
>
> 본인의 다른 요구사항이 있더라도 그것을 리뷰와 얽히지 않게 분리하는 것이 좋습니다.

#### 더블팀 (The Double Team)

두 명의 리뷰어가 번갈아 가며 개발자에게 서로 다른 요구를 하는 방식입니다.

한 명의 피드백을 반영해 수정하면, 또 다른 리뷰어가 다른 방향의 피드백을 줍니다.

이 과정이 반복되면 개발자는 두 리뷰어 사이에서 지쳐버리죠.

> 리뷰어들끼리 미리 의견을 조율하고 일관된 피드백을 주는 것이 좋습니다.
>
> 가능하면 개발자와 리뷰어 모두 한 방향으로 가이드라인을 맞추도록 노력해야 합니다.

#### 추측 게임 (The Guessing Game)

리뷰어가 특정한 설계 방식을 문제 삼지만, 구체적인 대안을 제시하지 않고 모호하게 비판합니다.

개발자는 이 피드백에 맞춰 여러 해결책을 시도하지만 매번 거절당하게 됩니다.

> 피드백은 구체적이고 명확하게 주는 것이 좋습니다.
>
> 비판할 때는 개발자가 이해할 수 있도록, 원하는 방향이나 대안을 제시하는 것이 좋습니다.

#### 우선순위 뒤집기 (The Priority Inversion)

처음에는 사소한 문제들을 지적하고 나중에 큰 문제를 지적하는 패턴입니다.

개발자가 작은 문제를 모두 고친 후에야 "사실 이 부분은 아예 새로 작성해야겠네요"라는 피드백을 주는 거죠.

결과적으로 개발자가 썼던 시간과 노력이 모두 낭비됩니다.

> 가장 중요한 문제부터 먼저 지적하는 것이 좋습니다. 나
>
> 중에 큰 수정을 요구하게 될 부분에서는 초기 리뷰부터 힌트를 주는 것이 개발자에게 도움이 됩니다.

---

#### 늦게 터진 설계 리뷰 (The Late-Breaking Design Review)

이미 많은 작업이 진행된 후에 전체 설계를 문제 삼는 경우입니다.

예를 들어, 작은 버그 수정을 리뷰하는 자리에서 갑자기 "사실 이 전체 설계가 문제입니다"라는 식으로 의견을 내는 거죠.

그러면 개발자는 이미 진행된 작업을 되돌려야 할 수도 있습니다.

> 큰 설계 변경이 필요하다면 초기 설계 단계에서 의견을 적극적으로 제시하는 것이 좋습니다.
>
> 작은 리뷰에서 설계를 문제 삼는 것은 피하는 것이 바람직합니다.

#### 모순된 요구 (The Catch-22)

큰 패치는 읽기 어렵다고 쪼개라고 요구하고, 쪼갠 작은 패치들은 독립적으로 이해되지 않는다며 다시 합치라고 요구하는 경우입니다.

어떤 방식으로 해도 만족시키기 어려워 개발자를 혼란스럽게 만듭니다.

> 리뷰의 목표에 맞게 일관된 요구를 하는 것이 중요합니다.
>
> 상황에 맞게 어느 정도의 절충을 허용하는 유연한 자세가 필요합니다.

#### 입장 바꾸기 (The Flip Flop)

이전에 동일하게 진행된 작업 방식을 따라 한 패치를 갑자기 문제 삼는 경우입니다.

개발자가 일관성을 유지하려고 기존 패턴을 따랐지만, 리뷰어가 갑자기 입장을 바꾸어 새로운 기준을 요구하는 거죠.

> 코딩 가이드라인이나 일관된 기준을 팀 차원에서 마련하고, 리뷰에서 이를 따르는 것이 좋습니다.
>
> 만약 기존에 허용했던 방식이 잘못되었다면, 리뷰어가 직접 수정하거나 별도의 작업으로 처리하는 것이 바람직합니다.

### 정리하며

이 모든 안티패턴들은 의도적이든 무의식적이든 개발자의 시간과 동기부여를 갉아먹는 결과를 가져올 수 있습니다.

리뷰어의 역할은 코드의 질을 높이고 개발자와 협력하는 것이므로, 불필요한 지연이나 비효율을 피하도록 노력해야 합니다.

리뷰어로서 권한이 주어졌을 때는, 그 권한을 남용하지 말고 책임감 있게 사용해야 합니다.

그리고 팀 전체의 목표에 맞게 건설적이고 명확한 피드백을 주는 것이 중요합니다.

그렇게 해야 리뷰를 통해 개발자도 성장하고, 코드베이스도 발전할 수 있습니다.
