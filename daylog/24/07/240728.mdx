---
title: "ì§ì‚¬ê°í˜• ìµœëŒ€ í•© ì°¾ê¸°: 2D ì¹´ë°ì¸ ì•Œê³ ë¦¬ì¦˜"
date: "240728"
tags: ["Algorithm"]
---

ì§€ë‚œ í¬ìŠ¤íŒ…ì— 1ì°¨ì› ë°°ì—´ì—ì„œ ìµœëŒ€ ë¶€ë¶„í•©ì„ ì°¾ëŠ” ì¹´ë°ì¸ ì•Œê³ ë¦¬ì¦˜ì„ ì‚´í´ë³´ì•˜ìŠµë‹ˆë‹¤.

ì´ë²ˆì—ëŠ” 2ì°¨ì› ë°°ì—´ì—ì„œ ì§ì‚¬ê°í˜•ì˜ ìµœëŒ€ í•©ì„ ì°¾ëŠ” ë¬¸ì œë¥¼ ë‹¤ë£¨ì–´ ë³´ê² ìŠµë‹ˆë‹¤.

## ê¸°ë³¸ ì•„ì´ë””ì–´

- 2D ë°°ì—´ì˜ ëª¨ë“  ê°€ëŠ¥í•œ í–‰ ìŒ(ì‹œì‘ í–‰, ë í–‰)ì„ ìˆœíšŒí•©ë‹ˆë‹¤.
- ê° í–‰ ìŒì— ëŒ€í•´, í•´ë‹¹ í–‰ë“¤ ì‚¬ì´ì˜ ì—´ë“¤ì„ í•˜ë‚˜ì˜ 1D ë°°ì—´ë¡œ ì••ì¶•í•©ë‹ˆë‹¤.
- ì••ì¶•ëœ 1D ë°°ì—´ì— ëŒ€í•´ ì¹´ë°ì¸ ì•Œê³ ë¦¬ì¦˜ì„ ì ìš©í•˜ì—¬ ìµœëŒ€ ë¶€ë¶„í•©ì„ ì°¾ìŠµë‹ˆë‹¤.
- ëª¨ë“  í–‰ ìŒì— ëŒ€í•´ ì´ ê³¼ì •ì„ ë°˜ë³µí•˜ì—¬ ì „ì²´ ìµœëŒ€ê°’ì„ ì°¾ìŠµë‹ˆë‹¤.

```ts
// 1D ì¹´ë°ì¸ ì•Œê³ ë¦¬ì¦˜
function kadane(arr: number[]): number {
  let maxSoFar: number = Number.NEGATIVE_INFINITY;
  let maxEndingHere: number = 0;

  for (const num of arr) {
    maxEndingHere = Math.max(num, maxEndingHere + num);
    maxSoFar = Math.max(maxSoFar, maxEndingHere);
  }

  return maxSoFar;
}

// 2D ì§ì‚¬ê°í˜• ìµœëŒ€ í•© ì°¾ê¸°
function maxRectangleSum(matrix: number[][]): number {
  if (!matrix || matrix.length === 0 || matrix[0].length === 0) {
    return 0;
  }

  const rows: number = matrix.length;
  const cols: number = matrix[0].length;
  let maxSum: number = Number.NEGATIVE_INFINITY;

  for (let top = 0; top < rows; top++) {
    const temp: number[] = new Array(cols).fill(0);
    for (let bottom = top; bottom < rows; bottom++) {
      for (let i = 0; i < cols; i++) {
        temp[i] += matrix[bottom][i];
      }

      const currentMax: number = kadane(temp);
      maxSum = Math.max(maxSum, currentMax);
    }
  }

  return maxSum;
}

// Input: 2D ë°°ì—´
const matrix: number[][] = [
  [1, 2, -1, -4, -20],
  [-8, -3, 4, 2, 1],
  [3, 8, 10, 1, 3],
  [-4, -1, 1, 7, -6],
];

console.log(maxRectangleSum(matrix)); // Output: 29
```

## êµ¬í˜„ ì„¤ëª…

- kadane í•¨ìˆ˜ëŠ” 1D ë°°ì—´ì— ëŒ€í•œ ì¹´ë°ì¸ ì•Œê³ ë¦¬ì¦˜ì„ êµ¬í˜„í•©ë‹ˆë‹¤.
- maxRectangleSum í•¨ìˆ˜ëŠ” 2D ë°°ì—´(í–‰ë ¬)ì„ ì…ë ¥ë°›ì•„ ìµœëŒ€ ì§ì‚¬ê°í˜• í•©ì„ ê³„ì‚°í•©ë‹ˆë‹¤.
  - ëª¨ë“  ê°€ëŠ¥í•œ ìƒë‹¨ í–‰(top)ì— ëŒ€í•´, í•´ë‹¹ í–‰ë¶€í„° ì‹œì‘í•˜ëŠ” ëª¨ë“  í•˜ë‹¨ í–‰(bottom)ì„ ìˆœíšŒí•©ë‹ˆë‹¤.
  - ê° ìƒë‹¨ í–‰ì— ëŒ€í•´, ì•„ë˜ìª½ìœ¼ë¡œ í–‰ì„ ì¶”ê°€í•˜ë©´ì„œ ì—´ í•©ì„ ê³„ì‚°í•©ë‹ˆë‹¤.
  - ê° ë‹¨ê³„ì—ì„œ kadane í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ í˜„ì¬ ì••ì¶•ëœ 1D ë°°ì—´ì˜ ìµœëŒ€ ë¶€ë¶„í•©ì„ ì°¾ìŠµë‹ˆë‹¤.
  - ì „ì²´ ê³¼ì •ì—ì„œ ë°œê²¬ëœ ìµœëŒ€ê°’ì„ ì¶”ì í•˜ê³  ìµœì¢… ê²°ê³¼ë¡œ ë°˜í™˜í•©ë‹ˆë‹¤.

ì´ ì•Œê³ ë¦¬ì¦˜ì˜ ì‹œê°„ ë³µì¡ë„ëŠ” O(rows^2 \* cols)ì…ë‹ˆë‹¤.

## ë§ˆì¹˜ë©°

ì´ ë°©ë²•ì€ ë¸Œë£¨íŠ¸ í¬ìŠ¤ ë°©ì‹ìœ¼ë¡œ ëª¨ë“  ê°€ëŠ¥í•œ ì§ì‚¬ê°í˜•ì„ íƒìƒ‰í•˜ë¯€ë¡œ ìµœì ì˜ ë°©ë²•ì€ ì•„ë‹™ë‹ˆë‹¤.

í•˜ì§€ë§Œ ì¹´ë°ì¸ ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•˜ì—¬ ê° í–‰ ìŒì— ëŒ€í•´ ìµœëŒ€ ë¶€ë¶„í•©ì„ ê³„ì‚°í•˜ëŠ” ë°©ë²•ì€ ê°„ë‹¨í•˜ê³  íš¨ìœ¨ì ì…ë‹ˆë‹¤.

ë” ë‚˜ì€ ì„±ëŠ¥ì„ ìœ„í•´ì„œëŠ” ë™ì  ê³„íšë²•ì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì„ ê³ ë ¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ìŒ ì‹œê°„ì—ëŠ” ì´ ë°©ë²•ì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤. ğŸš€
