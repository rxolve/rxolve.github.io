---
title: "2-3 트리: 삽입"
date: "240908"
tags: ["Algorithm"]
---

이진트리에 대해 알아봤으니 값과 자식 노드가 더 많은 2-3 트리에 대해 알아보겠습니다.

#### 2-3 트리 특징

- 모든 리프 노드는 같은 깊이에 있습니다.
- 부모 노드는 2개 또는 3개의 자식을 가질 수 있습니다.
- 2-노드는 1개의 값와 2개의 자식을 가집니다.
- 3-노드는 2개의 값와 3개의 자식을 가집니다.

#### 2-3 트리 삽입

2-3 트리에 새로운 값를 삽입하는 과정을 단계별로 살펴보겠습니다.

1. 삽입 위치 찾기

- 루트에서 시작하여 적절한 리프 노드를 찾을 때까지 트리를 탐색합니다.
- 각 노드에서 값을 비교하며 왼쪽, 중앙, 또는 오른쪽 자식으로 이동합니다.

2. 리프 노드에 키 삽입

- 찾은 리프 노드에 새 값를 삽입합니다.
- 노드 내의 값들은 항상 정렬된 상태를 유지해야 합니다.

3. 노드 분할

- 삽입 후 노드에 3개의 값이 있다면, 노드를 분할해야 합니다.
- 중간 값을 선택하여 부모 노드로 올립니다.
- 남은 두 값으로 각각 새로운 노드를 만듭니다.

4. 부모 노드 처리

- 중간 값을 부모 노드에 삽입합니다.
- 부모 노드도 꽉 찼다면, 부모 노드에 대해 3단계를 반복합니다.

5. 루트 노드 처리

- 루트 노드를 분할해야 한다면, 새로운 루트 노드를 생성합니다.
- 이 과정으로 트리의 높이가 증가할 수 있습니다.

#### 예시

숫자 10을 다음과 같은 2-3 트리에 삽입하는 과정을 살펴보겠습니다.

```
     [5, 15]
    /   |   \
 [2,3] [7,9] [17,20]
```

1. 10을 삽입할 위치를 찾습니다: [7,9] 노드
2. [7,9] 노드에 10을 삽입합니다: [7,9,10]
3. 노드가 꽉 찼으므로 분할합니다:
   - 9를 부모 노드로 올립니다.
   - [7]과 [10]으로 새 노드를 만듭니다.
4. 부모 노드 [5,15]에 9를 삽입합니다: [5,9,15]
5. 루트 노드가 꽉 찼으므로 다시 분할합니다:
   - 9를 새 루트로 만듭니다.
   - [5]와 [15]로 새 노드를 만듭니다.

결과는 다음과 같습니다.

```
         [9]
        /   \
     [5]     [15]
    /   \    /   \
 [2,3] [7] [10] [17,20]
```

#### 도식화

<Mermaid
  chart={`
graph TD
A[Step 1: 삽입 위치 찾기] --> B[Step 2: 노드에 키 삽입]
B --> C{노드가 꽉 찼는가?}
C -->|No| D[삽입 완료]
C -->|Yes| E[Step 3: 노드 분할]
E --> F[중간 키를 부모로 이동]
F --> G{루트 노드인가?}
G -->|No| H[부모 노드에 키 삽입]
G -->|Yes| I[새 루트 노드 생성]
H --> J[재귀적으로 부모 노드 확인]
J --> C
I --> D
`}
/>

#### 마치며

2-3 트리를 이해하면 더 복잡한 균형 트리 구조(예: 레드-블랙 트리, B-트리)를 이해하는 데 큰 도움이 됩니다.

다음 시간엔 2-3 트리의 삭제에 대해 알아보겠습니다.
