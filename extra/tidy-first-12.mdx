---
title: "Tidy First? 12. 도우미 추출"
date: "240630"
tags: ["TidyFirst"]
---

> 정리하며 책의 문장을 요약해서 옮깁니다.

- 목적이 분명하고 나머지 코드와는 상호작용이 적은 코드 블록을 만날 때가 있습니다.
  - 그 코드블록을 추려내고 , 도우미(helper)로 추출한 후에 이름을 붙입니다.
  - 도우미 이름은 작동 방식이 아니라 목적에 따라 짓습니다.
  - 이 정리법이 바로 '메서드 추출' 리팩터링입니다.
- 도우미를 추출할 때 몇 가지 특수한 경우를 언급하고 싶습니다.
  - 큰 루틴안에서 몇 줄을 변경해야 하는 경우
    - 해당하는 줄들을 도우미로 추출하고
    - 도우미 안의 내용만 변경한 다음
    - 적절하다고 판단한 뒤에 도우미를 호출하는 문장에 반영하세요.
    - 보통 도우미에 맛을 들이면 즐거워져 여기저기 사용하게 됩니다.
  - Before:
    ```
    routine()
      ...그대로 두는 코드...
      ...바꾸려는 코드...
      ...그대로 두는 코드...
    ```
  - After:
    ```
    helper()
      ...바꾸려는 코드...
    routine()
      ...그대로 두는 코드...
      ...helper()...
      ...그대로 두는 코드...
    ```
  - 이 작업은 응집도 높은 요소 만들기입니다.
  - 도우미 추출의 또 다른 특수 사례는 시간적 결합을 표현하는 경우입니다.
    - a()가 b()보다 앞서 호출되어야 하는 경우
    - Before:
      ```
      foo.a()
      foo.b()
      ```
    - After:
      ```
      ab()
        a()
        b()
      ```
- 도우미를 만들다 보면, 몇 시간 혹은 몇 분 만에 다시 사용하고 싶어 하는 자신의 욕구를 발견할 겁니다.
  - 이 과정에서 인터페이스는 문제를 생각하도록 이끄는 도구가 됩니다.
  - 우리가 만든 설계 요소에 새로운 이름을 붙힐 수 있을 때, 새로운 인터페이스가 떠오릅니다.
    - (**오늘의 문장!**)
- 도우미는 필요한 모든 곳에서 사용할 수 있습니다.
  - 도구에 따라 새로운 도우미가 적용될 수 있는 곳을 찾아 식별하고 변경까지 자동으로 해 줍니다.
  - 하늘이 그 도구들에 축복을 내리시기를.
