---
title: "GIN 인덱스"
date: "240706"
tags: ["AWS", "RDS"]
---

- GIN (Generalized Inverted Index) 인덱스는 복합 데이터 유형에서 효율적인 검색을 위해 설계되었습니다.
  - 주로 텍스트 검색, 배열, JSONB와 같은 복합 데이터 유형을 위한 인덱스로 사용됩니다.
    - 일반적인 데이터베이스는 B-Tree 인덱스를 사용하여 데이터를 검색합니다.
- GIN 인덱스는 키-값 쌍을 저장합니다.
  - 여기서 "키"는 인덱싱된 데이터의 요소(예: 텍스트 단어, 배열의 각 요소)입니다.
  - "값"은 해당 키를 포함하는 행의 ID입니다.
- 검색 시, 쿼리에서 지정한 조건(예: 특정 단어 포함)을 충족하는 키를 GIN 인덱스에서 찾습니다.
  - 해당 키에 매핑된 모든 행 ID를 반환합니다.
  - 반환된 행 ID를 기반으로 실제 테이블에서 결과를 추출합니다.
  - GIN 인덱스는 고유하지 않은 키도 효과적으로 인덱싱할 수 있습니다.
    - 동일한 단어가 여러 행에 등장하더라도 잘 처리합니다.
- GIN 인덱스 생성 쿼리:

  ```sql
  CREATE TABLE books (
    id SERIAL PRIMARY KEY,
    title TEXT,
    authors TEXT[]
  );

  CREATE INDEX idx_books_authors ON books USING GIN (authors);
  ```

- 복합 데이터 유형의 쿼리 성능을 크게 향상시킬 수 있습니다.
- 자주 업데이트되는 테이블에서는 업데이트 성능이 저하될 수 있습니다.
